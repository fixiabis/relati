# relati

- 玩家人數：2 - 4 人
- 棋盤大小：2 人為 9x9，3 人為 13x13，4 人為 17x17，公式為：`(玩家數 * 4 + 1) ^ 2`
- 遊戲目的：不要讓自己無法連線而輸掉

## 遊戲進行

1. 決定由哪位玩家先開始，確定後依照順序使用以下符號：圓圈, 叉叉, 三角, 方形
2. 被輪到的玩家做出一次[行動](#玩家能做出的行動)
3. 輪到下一位能做出[行動](#玩家能做出的行動)的玩家

## 玩家能做出的行動

- 放置符號: 在棋盤上選擇格子放置符號

## 遊戲規則

- 玩家放置符號時，須符合[放置條件](#放置條件)
- 當符號不符合任何[連線條件](#連線條件)時，該符號便視為[斷線符號](#斷線符號)
- 當[斷線符號](#斷線符號)重新符合任何[連線條件](#連線條件)時，將會恢復
- 玩家只剩一位能做出[行動](#玩家能做出的行動)，該玩家行動後，則：
  - 該玩家還能行動時，為本局贏家，結束遊戲
  - 反之，本局沒有贏家，結束遊戲

## 放置條件

選擇格子放置符號時須注意以下要點：

1. 格子必須是空格
2. 格子符合[連線條件](#連線條件)
3. 遊戲開始未有符號時，忽略 2，並將符號註記為[根源符號](#根源符號)

## 連線條件

注意！以下相同符號所指的是[可連線符號](#可連線符號)

連線分為以下類型：

- [一般連線](#一般連線)
- [遠程一般連線](#遠程一般連線)
- [遠程穩定連線](#遠程穩定連線)

遠程連線相較於一般連線，可以更快速的向外擴張。
遠程連線路徑上不能有其他符號擋道，否則連線失效。
遠程穩定連線的路徑分為三種，實際進行遊戲會比較能夠掌握。

### 一般連線

以下視為棋盤的一角：

```
| FL |  F | FR |
|  L |  C |  R |
| BL |  B | BR |
```

以上為方向代號，代表意義如下：

- `F` 為前方 (Front)
- `B` 為後方 (Back)
- `L` 為左方 (Left)
- `R` 為右方 (Right)
- `C` 為目前位置 (Current)，也能看作中央 (Center)

假設有相同符號存在於 `F` 時，對 `C` 來說連線便成立。  
同理，`BR` 上有相同符號時，對 `C` 來說連線也成立，以此類推。  
因此，`F`、`B`、`L`、`R`、`FR`、`FL`、`BR`、`BL` 中，只要有一個相同符號存在，`C` 就能與之連線。

### 遠程一般連線

以下視為棋盤的一角：

```
|FFLL|    | FF |    |FFRR|
|    | FL |  F | FR |    |
| LL |  L |  C |  R | RR |
|    | BL |  B | BR |    |
|BBLL|    | BB |    |BBRR|
```

以上方向代號請參考 [一般連線](#一般連線)。

假設 `F` 為空白，且相同符號存在於 `FF` 時，對 `C` 來說連線便成立。  
同理 `BR` 為空白，且 `BBRR` 上有相同符號時，對 `C` 來說連線也成立，以此類推。  
因此，`F` 與 `FF`、`B` 與 `BB`、`L` 與 `LL`、`R` 與 `RR`、`FL` 與 `FFLL`、`FR` 與 `FFRR`、`BL` 與 `BBLL`、`BR` 與 `BBRR` 中，只要前者為空白，且後者存在相同符號，`C` 就能與之連線。

### 遠程穩定連線

分為三類：

- [直拐形](#遠程穩定連線-直拐形)
- [拐直形](#遠程穩定連線-拐直形)
- [拐拐形](#遠程穩定連線-拐拐形)

### 遠程穩定連線-直拐形

以下視為棋盤的一角：

```
|    |FFL | FF |FFR |    |
|FLL |    |  F |    |FRR |
| LL |  L |  C |  R | RR |
|BLL |    |  B |    |BRR |
|    |BBL | BB |BBR |    |
```

以上方向代號請參考 [一般連線](#一般連線)。

假設 `F` 與 `FF` 為空白，且相同符號存在於 `FFR` 時，對 `C` 來說連線便成立。  
同理 `R` 與 `RR` 為空白，且 `BRR` 上有相同符號時，對 `C` 來說連線也成立，以此類推。  
`F` 及 `FF` 與 `FFR`、`F` 及 `FF` 與 `FFL`、`B` 及 `BB` 與 `BBR`、`B` 及 `BB` 與 `BBL`、`L` 及 `LL` 與 `FLL`、`L` 及 `LL` 與 `BLL`、`R` 及 `RR` 與 `FRR`、`R` 及 `RR` 與 `BRR` 中，只要前兩者皆為空白，且後者存在相同符號，`C` 就能與之連線。

朝一個方向直直前進兩格後，往左或往右，因此稱為「直拐形」。

從上面表格取部份作為參考，以範例中的 `FFR` 為例，幫助了解：

```
| FF |FFR |
|  F |    |
|  C |    |
```

### 遠程穩定連線-拐直形

以下視為棋盤的一角：

```
|    |FFL |    |FFR |    |
|FLL | FL |  F | FR |FRR |
|    |  L |  C |  R |    |
|BLL | BL |  B | BR |BRR |
|    |BBL |    |BBR |    |
```

以上方向代號請參考 [一般連線](#一般連線)。

假設 `R` 與 `FR` 為空白，且相同符號存在於 `FFR` 時，對 `C` 來說連線便成立。  
同理 `B` 與 `BR` 為空白，且 `BRR` 上有相同符號時，對 `C` 來說連線也成立，以此類推。  
`F` 及 `FR` 與 `FRR`、`F` 及 `FL` 與 `FLL`、`B` 及 `BL` 與 `BLL`、`B` 及 `BR` 與 `BRR`、`L` 及 `FL` 與 `FFL`、`L` 及 `BL` 與 `BBL`、`R` 及 `FR` 與 `FFR`、`R` 及 `BR` 與 `BBR` 中，只要前兩者皆為空白，且後者存在相同符號，`C` 就能與之連線。

朝一個方向前進一格後往左或往右一格，再直直前進一格，因此稱為「拐直形」。

從上面表格取部份作為參考，以範例中的 `FFR` 為例，幫助了解：

```
|    |FFR |
|    | FR |
|  C |  R |
```

### 遠程穩定連線-拐拐形

以下視為棋盤的一角：

```
|    |FFL |    |FFR |    |
|FLL | FL |  F | FR |FRR |
|    |  L |  C |  R |    |
|BLL | BL |  B | BR |BRR |
|    |BBL |    |BBR |    |
```

以上方向代號請參考 [一般連線](#一般連線)。

假設 `F` 與 `FR` 為空白，且相同符號存在於 `FFR` 時，對 `C` 來說連線便成立。  
同理 `R` 與 `BR` 為空白，且 `BRR` 上有相同符號時，對 `C` 來說連線也成立，以此類推。  
`F` 及 `FR` 與 `FFR`、`F` 及 `FL` 與 `FFL`、`B` 及 `BL` 與 `BBL`、`B` 及 `BR` 與 `BBR`、`L` 及 `FL` 與 `FLL`、`L` 及 `BL` 與 `BLL`、`R` 及 `FR` 與 `FRR`、`R` 及 `BR` 與 `BRR` 中，只要前兩者皆為空白，且後者存在相同符號，`C` 就能與之連線。

朝一個方向前進一格後往左或往右一格，再往反方向一格，因此稱為「拐拐形」。

從上面表格取部份作為參考，以範例中的 `FFR` 為例，幫助了解：

```
|    |FFR |
|  F | FR |
|  C |    |
```

## 符號定義

### 根源符號

為遊戲開始的第一個符號，此符號不受[連線條件](#連線條件)影響。

### 斷線符號

假設一符號原本只基於[遠程一般連線](#遠程一般連線)或[遠程穩定連線](#遠程穩定連線)，而因對方放置符號在路徑上，導致連線失效，便會呈此狀態，此狀態是連鎖的，斷線符號由於不能被視為連線符號的依據，因此以此符號進行[一般連線](#一般連線)的符號的連線也會失效，呈斷線符號的狀態，當連線恢復時，此狀態便會解除。

可參考[遊戲示範](#遊戲示範)

### 可連線符號

即非[斷線符號](#斷線符號)。

## 遊戲示範

以兩個玩家，並使用小棋盤進行示範：

標記說明：

- `?` 為某玩家的一般符號
- `[?]` 為某玩家的根源符號
- `-?-` 為某玩家的斷線符號

雙方在剛開始放下了符號，並標示為[根源符號](#根源符號)。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]|   |   |   |
| 3 |   |   |   |   |   |
| 4 |   |   |   |   |   |
| 5 |   |   |   |   |   |
```

---

圓圈玩家依據[遠程一般連線](#遠程一般連線)，連向 `B2`，在 `D4` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]|   |   |   |
| 3 |   |   |   |   |   |
| 4 |   |   |   | O |   |
| 5 |   |   |   |   |   |
```

---

叉叉玩家依據[遠程穩定連線](#遠程穩定連線)，連向 `C1`，在 `B3` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]|   |   |   |
| 3 |   | X |   |   |   |
| 4 |   |   |   | O |   |
| 5 |   |   |   |   |   |
```

---

圓圈玩家依據[遠程穩定連線](#遠程穩定連線)，連向 `D4`，在 `B5` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]|   |   |   |
| 3 |   | X |   |   |   |
| 4 |   |   |   | O |   |
| 5 |   | O |   |   |   |
```

---

叉叉玩家依據[遠程一般連線](#遠程一般連線)，連向 `C1`，在 `C3` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]|   |   |   |
| 3 |   | X | X |   |   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，圓圈玩家符號的[遠程一般連線](#遠程一般連線)便失效了，`D4` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `B5` 的連線也失效了，變成[斷線符號](#斷線符號)。

---

圓圈玩家依據[一般連線](#一般連線)，連向 `B2`，在 `C2` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]| O |   |   |
| 3 |   |-X-|-X-|   |   |
| 4 |   |   |   | O |   |
| 5 |   | O |   |   |   |
```

此時，叉叉玩家符號的[遠程一般連線](#遠程一般連線)便失效了，`C3` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `B3` 的連線也失效了，變成[斷線符號](#斷線符號)。

而 `D4` 的符號現在能夠藉由 `C2` 進行[遠程穩定連線](#遠程穩定連線)，因此狀態恢復，而 `B5` 因 `D4` 恢復也恢復了。

---

叉叉玩家依據[遠程穩定連線](#遠程穩定連線)，連向 `C1`，在 `D3` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]| O |   |   |
| 3 |   | X | X | X |   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，圓圈玩家符號的[遠程穩定連線](#遠程穩定連線)便失效了，`D4` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `B5` 的連線也失效了，變成[斷線符號](#斷線符號)。

`C3` 的符號現在能夠藉由 `D4` 進行[一般連線](#一般連線)，因此狀態恢復，而 `B3` 因 `C3` 恢復也恢復了。

---

圓圈玩家依據[一般連線](#一般連線)，連向 `C2`，在 `D2` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]| O | O |   |
| 3 |   |-X-|-X-|-X-|   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，叉叉玩家符號的[遠程穩定連線](#遠程穩定連線)便失效了，`D3` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `C3` 和 `B3` 的連線也失效了，變成[斷線符號](#斷線符號)。

---

叉叉玩家依據[遠程穩定連線](#遠程穩定連線)，連向 `C1`，在 `E2` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]|   |   |
| 2 |   |[O]| O | O | X |
| 3 |   | X | X | X |   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，`D3` 的符號現在能夠藉由 `E2` 進行[一般連線](#一般連線)，因此狀態恢復，而 `B3` 和 `C3` 也因 `D3` 恢復也恢復了。

---

圓圈玩家依據[一般連線](#一般連線)，連向 `C2`，在 `D1` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]| O |   |
| 2 |   |[O]| O | O |-X-|
| 3 |   |-X-|-X-|-X-|   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，叉叉玩家符號的[遠程穩定連線](#遠程穩定連線)便失效了，`E2` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `C3`、`B3`、`D3` 的連線也失效了，變成[斷線符號](#斷線符號)。

---

叉叉玩家依據[遠程穩定連線](#遠程穩定連線)，連向 `C1`，在 `A2` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   |   |[X]| O |   |
| 2 | X |[O]| O | O | X |
| 3 |   | X | X | X |   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，`B3` 的符號現在能夠藉由 `A2` 進行[一般連線](#一般連線)，因此狀態恢復，而 `C3`、`D3`、`E2` 也因 `B3` 恢復也恢復了。

---

圓圈玩家依據[一般連線](#一般連線)，連向 `C2`，在 `B1` 放置了符號。

```
|   | A | B | C | D | E |
| 1 |   | O |[X]| O |   |
| 2 |-X-|[O]| O | O |-X-|
| 3 |   |-X-|-X-|-X-|   |
| 4 |   |   |   |-O-|   |
| 5 |   |-O-|   |   |   |
```

此時，叉叉玩家符號的[遠程穩定連線](#遠程穩定連線)便失效了，`A2` 變成[斷線符號](#斷線符號)，而[斷線符號](#斷線符號)無法作為連線依據，因此 `C3`、`B3`、`D3`、`E3` 的連線也失效了，變成[斷線符號](#斷線符號)。

基於[遊戲規則](#遊戲規則)，叉叉玩家無法再做出[行動](#玩家能做出的行動)，而圓圈玩家這回合做出行動後還能行動，因此圓圈玩家贏得本局遊戲。
