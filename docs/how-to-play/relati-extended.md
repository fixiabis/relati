# relati

- 玩家人數：2 - 4 人
- 棋盤大小：2 人為 9x9，3 人為 13x13，4 人為 17x17，公式為：`(玩家數 * 4 + 1) ^ 2`
- 遊戲目的：不要讓自己無法連線而輸掉

## 遊戲流程

1. 決定使用哪些[擴充規則](#擴充規則)
2. 決定玩家優先順序，並依照順序使用以下符號：圈圈, 叉叉, 三角形, 方形
3. 輪到的玩家[行動](#玩家行動)一次
4. 輪到下一位能[行動](#玩家行動)的玩家

## 玩家行動

### 放置符號

在棋盤上選擇格子，放置玩家所使用的符號。

### 建立砲台

僅適用於[砲台規則](#擴充規則-砲台)。  
在棋盤上選擇玩家的符號，標記為[砲台符號](#砲台符號)。

### 砲台攻擊

僅適用於[砲台規則](#擴充規則-砲台)。  
在棋盤上選擇玩家的[砲台符號](#砲台符號)，以該符號所在格子選擇一方向（前、後、左、右），朝該方向尋找一目標符號（忽略空白），並將該目標符號標記為[死亡符號](#死亡符號)。

### 遷移根源

僅適用於[根源遷移規則](#擴充規則-根源遷移)。  
在棋盤上選擇玩家的符號，將符號標記為[根源符號](#根源符號)，並將原本的[根源符號](#根源符號)標記為[死亡符號](#死亡符號)。

## 遊戲規則

- 玩家在[放置符號](#放置符號)時，應符合[放置條件](#放置條件)
- 玩家在[放置符號](#放置符號)前，所使用的符號若未在棋盤上存在相同符號時，該符號放置後標記為[根源符號](#根源符號)
- 符號不符合[連線條件](#連線條件)時，該符號視為[失聯符號](#失聯符號)
- 僅一位能[行動](#玩家行動)的玩家，該玩家[行動](#玩家行動)後，則：
  - 該玩家還能[行動](#玩家行動)時，為本局贏家，結束遊戲
  - 無玩家能[行動](#玩家行動)時，本局沒有贏家，結束遊戲

### 擴充規則

- [連續行動](#擴充規則-連續行動)
- [砲台](#擴充規則-砲台)
- [連鎖砲台](#擴充規則-連鎖砲台)
- [根源遷移](#擴充規則-根源遷移)

### 擴充規則-連續行動

- 玩家在[行動](#玩家行動)後，使一其他玩家增加[失聯符號](#失聯符號)時，該玩家獲得一次[行動](#玩家行動)次數
- 玩家在[行動](#玩家行動)後，使該玩家減少[失聯符號](#失聯符號)時，該玩家獲得一次[行動](#玩家行動)次數

### 擴充規則-砲台

- 玩家在[建立砲台](#建立砲台)時，選擇的符號只能是[一般符號](#一般符號)
- 玩家在[砲台攻擊](#砲台攻擊)後，選擇的符號標記為[彈盡符號](#彈盡符號)
- 玩家在[砲台攻擊](#砲台攻擊)時，不得選擇[彈盡符號](#彈盡符號)來尋找目標符號
- [砲台符號](#砲台符號)視為[失聯符號](#失聯符號)時，該符號標記為[死亡符號](#死亡符號)

### 擴充規則-連鎖砲台

- 玩家在[建立砲台](#建立砲台)後，選擇的符號獲得一次砲彈累計數
- 玩家在[砲台攻擊](#砲台攻擊)後，選擇的符號失去一次砲彈累計數
- 玩家在[砲台攻擊](#砲台攻擊)時，目標符號若為該玩家的[砲台符號](#砲台符號)，則：
  - 該符號轉移所有砲彈累計數給目標符號
  - 必須以目標符號所在格子繼續進行[砲台攻擊](#砲台攻擊)，直到無砲彈累計數為止，不視為一次行動

### 擴充規則-根源遷移

- 玩家在[遷移根源](#遷移根源)時，選擇的符號必須存在以[根源符號](#根源符號)作為連線來源的連線方式

### 放置條件

選擇格子放置符號時，應符合以下要求：

- 該格子為空格
- 該符號已在棋盤上存在相同符號時，該格子應符合[連線條件](#連線條件)

### 連線條件

連線分為以下方式：

- [一般連線](#一般連線)
- [遠程一般連線](#遠程一般連線)
- [遠程穩定連線](#遠程穩定連線)

#### 一般連線

以下為棋盤一角，使用[方向代號](#方向代號)進行說明：

```
| FL |  F | FR |
|  L |  C |  R |
| BL |  B | BR |
```

以上存在八種方向的格子：`F`、`B`、`L`、`R`、`FR`、`FL`、`BR`、`BL`

在格子上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
如 `F` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
同理，`BR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，對 `C` 來說連線也成立，以此類推。

#### 遠程一般連線

以下為棋盤一角，使用[方向代號](#方向代號)進行說明：

```
|FFLL|    | FF |    |FFRR|
|    | FL |  F | FR |    |
| LL |  L |  C |  R | RR |
|    | BL |  B | BR |    |
|BBLL|    | BB |    |BBRR|
```

以上存在八種路徑：

- `F`、`FF`
- `B`、`BB`
- `L`、`LL`
- `R`、`RR`
- `FL`、`FFLL`
- `FR`、`FFRR`
- `BL`、`BBLL`
- `BR`、`BBRR`

在路徑中，前者格子為空白，且後者存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
如 `F` 格為空白，`FF` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
同理，`BR` 格為空白，`BBRR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，對 `C` 來說連線也成立，以此類推。

#### 遠程穩定連線

分為三形：

- [直拐形](#遠程穩定連線-直拐形)
- [拐直形](#遠程穩定連線-拐直形)
- [拐拐形](#遠程穩定連線-拐拐形)

#### 遠程穩定連線-直拐形

以下為棋盤一角，使用[方向代號](#方向代號)進行說明：

```
|    |FFL | FF |FFR |    |
|FLL |    |  F |    |FRR |
| LL |  L |  C |  R | RR |
|BLL |    |  B |    |BRR |
|    |BBL | BB |BBR |    |
```

以上存在八種路徑：

- `F`、`FF`、`FFR`
- `F`、`FF`、`FFL`
- `B`、`BB`、`BBR`
- `B`、`BB`、`BBL`
- `L`、`LL`、`FLL`
- `L`、`LL`、`BLL`
- `R`、`RR`、`FRR`
- `R`、`RR`、`BRR`

在路徑中，前兩者格子為空白，且後者存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
如 `F` 與 `FF` 格為空白，`FFR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
同理，`R` 與 `RR` 格為空白，`BRR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，對 `C` 來說連線也成立，以此類推。

已 `FFR` 為範例的棋盤一角：

```
| FF |FFR |
|  F |    |
|  C |    |
```

#### 遠程穩定連線-拐直形

以下為棋盤一角，使用[方向代號](#方向代號)進行說明：

```
|    |FFL |    |FFR |    |
|FLL | FL |  F | FR |FRR |
|    |  L |  C |  R |    |
|BLL | BL |  B | BR |BRR |
|    |BBL |    |BBR |    |
```

以上存在八種路徑：

- `F`、`FR`、`FRR`
- `F`、`FL`、`FLL`
- `B`、`BL`、`BLL`
- `B`、`BR`、`BRR`
- `L`、`FL`、`FFL`
- `L`、`BL`、`BBL`
- `R`、`FR`、`FFR`
- `R`、`BR`、`BBR`

在路徑中，前兩者格子為空白，且後者存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
如 `R` 與 `FR` 格為空白，`FFR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
同理，`B` 與 `BR` 格為空白，`BRR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，對 `C` 來說連線也成立，以此類推。

已 `FFR` 為範例的棋盤一角：

```
|    |FFR |
|    | FR |
|  C |  R |
```

#### 遠程穩定連線-拐拐形

以下為棋盤一角，使用[方向代號](#方向代號)進行說明：

```
|    |FFL |    |FFR |    |
|FLL | FL |  F | FR |FRR |
|    |  L |  C |  R |    |
|BLL | BL |  B | BR |BRR |
|    |BBL |    |BBR |    |
```

以上存在八種路徑：

- `F`、`FR`、`FFR`
- `F`、`FL`、`FFL`
- `B`、`BL`、`BBL`
- `B`、`BR`、`BBR`
- `L`、`FL`、`FLL`
- `L`、`BL`、`BLL`
- `R`、`FR`、`FRR`
- `R`、`BR`、`BRR`

在路徑中，前兩者格子為空白，且後者存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
如 `F` 與 `FR` 格為空白，`FFR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，`C` 格便可與之連線。  
同理，`R` 與 `BR` 格為空白，`BRR` 格上存在[可作為連線來源的相同符號](#可供連線符號)時，對 `C` 來說連線也成立，以此類推。

已 `FFR` 為範例的棋盤一角：

```
|    |FFR |
|  F | FR |
|  C |    |
```

## 術語與名詞解釋

### 方向代號

- `F` 為前方 (Front)
- `B` 為後方 (Back)
- `L` 為左方 (Left)
- `R` 為右方 (Right)
- `C` 為目前位置 (Current)，也能看作中央 (Center)

### 符號

符號存在額外的標記來表達該符號的狀態，也有[不須標記的狀態](#失聯符號)，一個符號可能存在多個標記。

如：[砲台符號](#砲台符號)進行[砲台攻擊](#砲台攻擊)後，標記為[彈盡符號](#彈盡符號)，因不符合[連線條件](#連線條件)而視為[失聯符號](#失聯符號)時，依照[砲台規則](#擴充規則-砲台)，標記為[死亡符號](#死亡符號)。

#### 一般符號

不具有任何狀態的符號。

#### 根源符號

此狀態通常在玩家該局遊戲進行第一次[放置符號](#放置符號)時發生，作為連線源頭，不會變成[失聯符號](#失聯符號)。

#### 失聯符號

可藉由棋盤推論出該狀態，不進行標記。

原本只基於[遠程一般連線](#遠程一般連線)或[遠程穩定連線](#遠程穩定連線)的符號因對方放置符號在唯一的連線路徑上，導致無法符合[連線條件](#連線條件)，便會呈現此狀態，當該符號在玩家放置其他符號，使重新符合[連線條件](#連線條件)時，此狀態便會解除。

此狀態時常造成連鎖反應，由於不可作為連線來源，若其他符號僅以此符號作為連線來源時，將無法符合[連線條件](#連線條件)而呈現此狀態。

#### 砲台符號

此狀態在視為[失聯符號](#失聯符號)時，標注為[死亡符號](#死亡符號)。

#### 彈盡符號

此狀態為[砲台符號](#砲台符號)進行[砲台攻擊](#砲台攻擊)後發生。

#### 死亡符號

此符號視為空白。不視為空格，因此不能再[放置符號](#放置符號)於該符號的格子上。

#### 可供連線符號

不可作為連線來源的符號如下：

- [失聯符號](#失聯符號)
- [砲台符號](#砲台符號)
- [死亡符號](#死亡符號)
